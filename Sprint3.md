
*Sprint Board :*
---------------

https://github.com/orgs/OLXClone-SE/projects/1

Demo Link :   
------------

https://youtu.be/uvz08F1eYEs

How to run the project :
------------------------

1. Pre-requisites
    1. Yarn 
    2. PostgresSql database
    3. Go 
    4. create-react-app
    5. node
    6. Browser

2. Setting Up
    1. Clone the project from github repo
    2. run the command yarn (It will install all the dependencies)
    3. locate the sql script file and create the tables using the script file.
    4. create a .env file at server root and provide the following details.
        dbhost
        dbport
        dbuname
        dbpass
        dbname
        frommail
        mailpassword
        mailid
        smtpserver
        smtpsocket
    5. go to the workspaces > server > then run go command (It will install the backend go dependencies.)
    6. Now in order to run the application go to root folder of the project and run the command "yarn start", it will start both the server and the client.
    7. The client will be available on http://localhost:3000 and the server will be available on http://localhost:4000
    8. Several other customized commands are available to run individual modules in different modes, for those please refer to package.json > scripts.

3. In order to use the application a user must create an account using a mail id. 
    1. Signup using mail id and verify otp.
    2. Once the otp is verified user can logon to the system and can access all the functionalities available in the system.

Sprint 3 Accomplishments:
-------------------------

Backend ::
----------

env file setup for tests and production:
----------------------------------------
Bug invovling availability of .env file properties to only functionality but not tests is fixed in this sprint. Now both tests and regular functionalities can access .env file properties.

Products API:
------------

Developed products api, which will fetch the available products for the logged in user. It also supports the functionality of getting a specific user products (by passing the user email address in the api call). Products table is created on the postgresSQL db for the purpose of maintaing the existing products and adding new products to the existing one's.

Method : POST  
URL : http://localhost:4000/getProducts
Data contract :  

Request Body :  

{  
    &nbsp; "mailid" : string,  
}  

Response Body :  

{  
    &nbsp; "products" : [] // list of products  
}  

if the mail id is an empty string all the products are fetched.

User Details API:
-----------------

Developed a user details api for fetching the current loggedin user's details. It will be used in sell product functionality as well as update user details functionality of the application.

Method : POST  
URL : http://localhost:4000/getUserDetails
Data contract :  

Request Body :  

{  
    &nbsp; "mailid" : string,    
}  

Response Body :  

{
    <br/>
    &nbsp; "mailid": string,    
    &nbsp; "fname": string,      
    &nbsp; "lname": string,    
    &nbsp; "phone": string      
}

Save Product API:
-----------------

If the logged in user wants to sell a product he can use the sell option and fill out a form containing details of the product. This api will save the new product specified by the user. The id of the product is automatically gets generated by the database.

Method : POST  
URL : http://localhost:4000/saveProduct
Data contract :  

Request Body :  

{
    <br/>
    &nbsp; "mailid": string,  
    &nbsp; "phone": string,  
    &nbsp; "path": string,  
    &nbsp; "productname": string,  
    &nbsp; "category": string,  
    &nbsp; "price": integer  
    &nbsp; "description": string,  
}

Response Body :  

{
    </br>
    &nbsp; "approved": boolean,  
}



Frontend ::
----------

Fixing Login And Signup redux integration issue
------------------------------------------------

Fixed issue where the redux state is not being updated even after performing the login and signup actions. Now the login and signup components are fully integrated with redux.

Search Component
----------------

Updated the search component to search for the products on the home page. Now the logged in user can search for different products available on the site using the search bar and the search icon. Matching algorithm is used to search for the products where the products whose names matches atleast 50% with search criteria are filtered and displayed to the user.

Categories
----------

Now the dummy categories are removed and a list of categories are defined and being used across the application mainly in the navigation bar and the sell product functionality.

Sell Product Component
----------------------

A new component is developed and is available under the path /sell where the user can fill the details of the product they want to sell and the product details will be updated in the database. It will be available to all the users once it is enetered into the database. It is completely integrated with redux toolkit and is also integrated with backend api to save new products.

Products Component Integration
-------------------------------

Products Component is complertely integrated with the backend api as well as redux. Now the user will not get dummy data any more. They will get the products fetched from the database by the backend.

User Profile Component
-----------------------

User profile component is also completely integrated with the backend as well as the redux. Now the user can update their details and click on save in order to save their details permanently onto the database. 

User Products Details
----------------------

The products displayed in the user details page will not have dummy data instead the page will show the products uploaded by the current loggedin user. It is completely integrated with redux and backend as well.


Test Cases
----------------------

We have used cypress for end to end testing and used jest for writing unit test cases. In order to running test cases please use the command **`npm test`**. 
On the front end We have created custom commands and writte support functions in cypress. We have mocked the API response and tested the following services,
- loginValidation : Tests whether a user is able to login with valid credentials and redirects to home page if the the credentials are valid.
- updateUserDetails: Tests whether the update service is able to update the user details on clicking save changes.
- verifyUserOTP: Tests whether the user signing up for the website is genuine or not by verifying whether the user enters valid OTP for singing up.
- getUserDetails: Tests whether Edit profile is able to retrieve the user details on click.
- resetPassword: Tests whether user is able to rest his/her password by selecting forgot password option.
- getProducts: Tests whether products are displayed to the user on successful login.

